<div class="centered-content" style="margin-top: 10px">
  <h3 class="title">Jahresübersicht</h3>
</div>
<div class="centered-content" style="margin-top: 5px; margin-bottom: 5px">
  <md-select placeholder="Jahr" [(ngModel)]="myYear" (change)="onYearChanged()">
    <md-option *ngFor="let year of yearValues" [value]="year">{{year}}</md-option>
  </md-select>
</div>

<div>
  <table>
    <tr><th>PId</th><th>Jan</th><th>Feb</th><th>Mar</th><th>Apr</th><th>Mai</th><th>Jun</th><th>Jul</th><th>Aug</th><th>Sep</th><th>Okt</th><th>Nov</th><th>Dez</th><th>∑</tr>
    <tr *ngFor="let p of parkplatzrows">
      <td>{{p['parkId']}}</td>
      <td>{{p['monat'][0].buch}}/{{p['monat'][0].frei}}</td>
      <td>{{p['monat'][1].buch}}/{{p['monat'][1].frei}}</td>
      <td>{{p['monat'][2].buch}}/{{p['monat'][2].frei}}</td>
      <td>{{p['monat'][3].buch}}/{{p['monat'][3].frei}}</td>
      <td>{{p['monat'][4].buch}}/{{p['monat'][4].frei}}</td>
      <td>{{p['monat'][5].buch}}/{{p['monat'][5].frei}}</td>
      <td>{{p['monat'][6].buch}}/{{p['monat'][6].frei}}</td>
      <td>{{p['monat'][7].buch}}/{{p['monat'][7].frei}}</td>
      <td>{{p['monat'][8].buch}}/{{p['monat'][8].frei}}</td>
      <td>{{p['monat'][9].buch}}/{{p['monat'][9].frei}}</td>
      <td>{{p['monat'][10].buch}}/{{p['monat'][10].frei}}</td>
      <td>{{p['monat'][11].buch}}/{{p['monat'][11].frei}}</td><td>{{p['total']}}</td>
    </tr>
  </table>
</div>

<div *ngIf="buchungsAdmin && benutzerAdmin">
  <button (click)="emailTesten()" > Start Sending! </button>
  <p>Überschreiben der Daten in EmailToRole</p><input name="myFile" type="file"  (change)="handleFileSelect($event)" accept=".csv">
  <p>Update der Parkkplätze in EmailToRole</p><input name="myFileUpdate" type="file"  (change)="handleFileSelectUpdate($event)" accept=".csv">
  <button md-raised-button (click)="writeNewBuchung()">writeNewBuchung()</button>
  <button md-raised-button (click)="writeNewUser()" >writeNewUser()</button>
  <button md-raised-button (click)="getJahre()" >getJahre()</button>
  <p> Passwort überprüfen:</p>
  <input [(ngModel)]="testPassword">
  <button md-raised-button (click)="evalEmail()" >Funktion Buchung testen</button>
  <input [mdDatepicker]="vonPicker" (click)="this.picker_von.open()" placeholder="Von...">
  <button [mdDatepickerToggle]="vonPicker"></button>
  <md-datepicker #vonPicker (dateChange)="onDateChange()"></md-datepicker>
  <button md-raised-button (click)="onDateChange()" >Jahrestag?</button>
  
</div>
